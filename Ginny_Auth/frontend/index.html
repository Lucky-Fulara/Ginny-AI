<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login & Register with OTP</title>

    <!-- ✅ Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- ✅ Custom CSS -->
    <link rel="stylesheet" href="css/style.css">

    <!-- ✅ JavaScript Files -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
    <script defer src="js/script.js"></script>
    <script defer src="js/Background.js"></script>

</head>

<body>
    <canvas id="backgroundCanvas"></canvas>
    <div id="messageContainer"></div>
    <!-- ✅ Registration Form -->
    <div id="registerForm" class="form-container">
        <h3>Register</h3>
        <form onsubmit="registerUser(event)">
            <div class="mb-3">
                <label for="regEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="regEmail" required autocomplete="off"
                    aria-label="Registration Email">
            </div>
            <div class="mb-3">
                <label for="regPassword" class="form-label">Create Password</label>
                <input type="password" class="form-control" id="regPassword" required minlength="6"
                    aria-label="Create Password">
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="confirmPassword" required minlength="6"
                    aria-label="Confirm Password">
            </div>
            <button type="submit" class="btn btn-primary w-100">Register</button>
            <p class="mt-3">Already have an account? <a href="#" onclick="toggleForms()">Login here</a></p>
        </form>
    </div>

    <!-- ✅ Login Form -->
    <div id="loginForm" class="form-container" style="display: none;">
        <h3>Login</h3>
        <form onsubmit="loginUser(event)">
            <div class="mb-3">
                <label for="loginEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="loginEmail" required autocomplete="off"
                    aria-label="Login Email">
            </div>
            <div class="mb-3">
                <label for="loginPassword" class="form-label">Password</label>
                <input type="password" class="form-control" id="loginPassword" required minlength="6"
                    aria-label="Login Password">
            </div>
            <button type="submit" class="btn btn-primary w-100">Login</button>
            <p class="mt-3">Don't have an account? <a href="#" onclick="toggleForms()">Register here</a></p>
        </form>
    </div>

    <!-- ✅ OTP Verification Form -->
    <div id="otpForm" class="form-container" style="display: none;">
        <h3>Enter OTP</h3>
        <div id="liveMessage" class="live-message"></div>
        <form onsubmit="verifyOTP(event)">
            <input type="hidden" id="otpEmail">

            <!-- ✅ OTP Input Fields -->
            <div class="otp-container">
                <input type="text" maxlength="1" class="otp-input" id="otp1" inputmode="numeric" pattern="[0-9]*" autocomplete="one-time-code" aria-label="OTP Digit 1">
                <input type="text" maxlength="1" class="otp-input" id="otp2" inputmode="numeric" pattern="[0-9]*" aria-label="OTP Digit 2">
                <input type="text" maxlength="1" class="otp-input" id="otp3" inputmode="numeric" pattern="[0-9]*" aria-label="OTP Digit 3">
                <input type="text" maxlength="1" class="otp-input" id="otp4" inputmode="numeric" pattern="[0-9]*" aria-label="OTP Digit 4">
                <input type="text" maxlength="1" class="otp-input" id="otp5" inputmode="numeric" pattern="[0-9]*" aria-label="OTP Digit 5">
            </div>
            
            

            <p id="otpTimer" class="text-danger mt-2"></p>

            <!-- ✅ Resend OTP Button -->
            <button type="button" id="resendOTPBtn" class="btn btn-warning w-100 mt-2" onclick="resendOTP()" disabled>
                Resend OTP
            </button>

            <!-- ✅ Verify OTP Button -->
            <button type="submit" class="btn btn-success w-100 mt-2">Verify OTP</button>
        </form>
    </div>
    
</body>

</html>
